[gd_scene load_steps=13 format=3 uid="uid://xw0rgdcs8rf0"]

[ext_resource type="Script" uid="uid://b5bskh456xhw3" path="res://world.gd" id="1_eu7l1"]
[ext_resource type="PackedScene" uid="uid://cf70atxem4i7a" path="res://scenes/ChunkSystem/chunk.tscn" id="2_2dftf"]
[ext_resource type="Script" uid="uid://dhclc17k6vdwl" path="res://scenes/ChunkSystem/universal_chunk_manager.gd" id="2_wygdx"]
[ext_resource type="Script" uid="uid://cd75o1rcp0yft" path="res://terrain_logic.gd" id="4_fv4w7"]
[ext_resource type="Script" uid="uid://byo46vcpfe6m2" path="res://scenes/ui/DynamicMargins.gd" id="4_wygdx"]
[ext_resource type="Script" uid="uid://bpqljsrpxr6p3" path="res://resources/terrain/tile_generator.gd" id="6_f5c0m"]
[ext_resource type="Script" uid="uid://c3b3eioqj67cr" path="res://scenes/ChunkSystem/chunk_debug_manager.gd" id="6_kva58"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_fvag4"]
frequency = 0.0034
fractal_type = 2
fractal_lacunarity = 2.09
fractal_gain = 0.585
fractal_weighted_strength = 0.76
domain_warp_enabled = true
domain_warp_type = 1
domain_warp_amplitude = 30.355

[sub_resource type="FastNoiseLite" id="FastNoiseLite_kva58"]
frequency = 0.0771

[sub_resource type="FastNoiseLite" id="FastNoiseLite_f5c0m"]
frequency = 0.022
fractal_lacunarity = 15.74
fractal_gain = 1.08
fractal_weighted_strength = 0.23

[sub_resource type="FastNoiseLite" id="FastNoiseLite_b2ar6"]
noise_type = 3
frequency = 0.0352
fractal_gain = 1.125
fractal_weighted_strength = 1.0
domain_warp_type = 2

[sub_resource type="FastNoiseLite" id="FastNoiseLite_ee7l0"]
noise_type = 2
frequency = 0.0414
fractal_type = 3
fractal_gain = 0.145
fractal_weighted_strength = 1.0
fractal_ping_pong_strength = 3.2
cellular_distance_function = 2
cellular_jitter = -0.005
domain_warp_enabled = true
domain_warp_type = 1
metadata/_preview_in_3d_space_ = true

[node name="World" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_eu7l1")

[node name="ColorRect" type="ColorRect" parent="."]
visible = false
offset_right = 27443.0
offset_bottom = 11519.0

[node name="ChunkManager" type="Node2D" parent="." node_paths=PackedStringArray("label_chunk")]
y_sort_enabled = true
script = ExtResource("2_wygdx")
chunk_scene = ExtResource("2_2dftf")
tile_size = 24
load_radius = 1
unload_radius = 1
pool_initial_size = 100
label_chunk = NodePath("CanvasLayer/MarginContainer/Control/Panel/VBoxContainer/ChunkN")
player_path = NodePath("../PlayerContainer/Marker2D")
terrain_logic_path = NodePath("TerrainLogic")
tile_generator_path = NodePath("TileGenerator")

[node name="DebugManager" type="Node2D" parent="ChunkManager"]
script = ExtResource("6_kva58")

[node name="TerrainLogic" type="Node" parent="ChunkManager"]
script = ExtResource("4_fv4w7")
biome_noise = SubResource("FastNoiseLite_fvag4")

[node name="TileGenerator" type="Node" parent="ChunkManager"]
script = ExtResource("6_f5c0m")
ground_variation = SubResource("FastNoiseLite_kva58")
tree_variation = SubResource("FastNoiseLite_f5c0m")
vegetation_variation = SubResource("FastNoiseLite_b2ar6")
noise_variation = SubResource("FastNoiseLite_ee7l0")

[node name="CanvasLayer" type="CanvasLayer" parent="ChunkManager"]

[node name="MarginContainer" type="MarginContainer" parent="ChunkManager/CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
mouse_default_cursor_shape = 8
script = ExtResource("4_wygdx")

[node name="Control" type="Control" parent="ChunkManager/CanvasLayer/MarginContainer"]
layout_mode = 2
mouse_filter = 2

[node name="Panel" type="Panel" parent="ChunkManager/CanvasLayer/MarginContainer/Control"]
layout_mode = 2
anchor_right = 0.190972
anchor_bottom = 0.195988
metadata/_edit_use_anchors_ = true

[node name="VBoxContainer" type="VBoxContainer" parent="ChunkManager/CanvasLayer/MarginContainer/Control/Panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ChunkN" type="Label" parent="ChunkManager/CanvasLayer/MarginContainer/Control/Panel/VBoxContainer"]
layout_mode = 2

[node name="PlayerContainer" type="Node2D" parent="."]
position = Vector2(339, 321)

[node name="Marker2D" type="Marker2D" parent="PlayerContainer"]
position = Vector2(376, 477)
